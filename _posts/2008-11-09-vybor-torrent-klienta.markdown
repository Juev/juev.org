--- 
layout: post
title: !binary |
  0LLRi9Cx0L7RgCB0b3JyZW50LdC60LvQuNC10L3RgtCw

---
Давно использую для работы с торрентами консольный клиент rtorrent, который запускаю с помощью screen. Но до перехода на ethernet торрентов обычно было мало, порядка 5-10 и все они помещались на экране, легко было отслеживать их состояние.

А тут с каждым днем число торрентов росло и росло, пока для того, чтобы найти определенный файл в списке приходилось скролить экран. Потому и задался мыслью потестировать другие клиенты.

Главным критерием отбора являлось - работа в linux, и работа в виде демона (то есть чтобы работа клиента не зависела от того, где в данный момент времени я работаю, в иксах или в консоли)...

Как оказалось - выбирать то особенно и не из чего. Помимо rtorrent+screen, остаются только transmission и deluge, причем последние два только недавно научились работать в виде демонов... Ну и само собой - попробовал организовать веб-интерфейс к rtorrent, благо статей довольно много нашлось по данной теме...

Начал с веб-морды. Установил веб-сервер lighttpd, установил php, скачал wtorrent, и тут началось, порядка 6 часов потратил на то, чтобы разобраться, как сязать морду и сам клиент. Основная проблема была связана с тем, что веб-сервер и торрент-клиент запускались от разных пользователей и потому просто не могли иметь общих ресурсов в файловой системе. В конце концов разобрался, настроил, повозился немного и просто снес... Снес потому, что веб-морда не очень удобна, терпимо конечно, но вот то, что из-за нее rtorrent сегфолтился сам по себе - это оч плохо. В итоге - в топку...

Затем установил transmission, причем обновился до версии 1.34, что находиться пока в экспериментальной ветке дебиана... Тут веб-морда работает сама по себе, не требуется настраивать сторонних вб-серверов... Есть так же и графический клиент, но что интересно, настройки и сессии у демона и графического клиента абсолютно разные, даже настройки хранятся в разных каталогах...

Ну да ладно, немного поигравшись графическим клиентом настроил и стал использовать демона.
На вторые сутки работы удивился такой малой отдачей торрентов, загрузил новый торрент с городского трекера - скорость менялась от 0 до 600 килобайт максимум, причем изменение происходило волнобразно, от нуля до максимума, тут же падала опять до нуля... Практически таже ситуация была и с отдачей на остальных торрентах, так же волнообразно изменялась скорость отдачи... Может с линией что не так? Вырубил демона и запустил rtorrent, подгрузил новый торрент, что стоял в демоне... тут же скорость почти в пять мегабайт в секунду, стабильно. Аналогично и со скростью отдачи. Порт кстати использовался в обеих программах один и тот же... Странно, что восхваляют transmission, работает он с сетью не важно... И на ранних версиях я подобное уже наблюдал, просто решил проверить, не изменилась ли ситуация... Оказалось нет... В топку...

Итак, у меня остался для пробы еще один клиент deluge, которых так же с недавних пор научился работать в режиме демона... Как закончу тестирование - постараюсь отписать о результатах, но не обещаю, работы еще много...
