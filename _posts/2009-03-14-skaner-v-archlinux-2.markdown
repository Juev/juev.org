--- 
layout: post
title: !binary |
  0YHQutCw0L3QtdGAINCyIGFyY2hsaW51eCAo0LTQvtC/0L7Qu9C90LXQvdC4
  0LUg0Lgg0LjQt9C80LXQvdC10L3QuNC1KQ==

---
После настройки сканера довольно долгое время работал с ним и стал замечать, что некоторые сервисы в Linux просто не запускаются. В логах при этом появляются сообщения о том, что устройство /dev/null не доступно. После проверки прав доступа и владельца файла стало ясно, что то правило, что указал в прошлый раз, работает неверно. И почти всем устройствам присваивается группа scanner.

Пришлось снова обращаться к гуглю за помощью. И снова писать правила udev.

Кратко повторюсь, как брать парметры устройства, используемые в правиле и что именно нужно прописывать.

В консоли даем команду:
    $ sudo sane-find-scanner

Получаем нечто похожее на это:
    found USB scanner (vendor=0×04a9 [Canon], product=0×2220 [CanoScan], chip=LM9832/3) at libusb:004:002

Нас будут интересовать значения, описанные как vendor и product. Их и записываем в правила udev, в файле, который создаем сами, если его нет. Файл <strong>/etc/udev/rules.d/53-sane.rules</strong>:
    #Canon LIDE
    SUBSYSTEM=="usb", ATTRS&#123;idVendor}=="04a9", ATTRS&#123;idProduct}=="2220", MODE="0664", GROUP="scanner"

После чего перезапускаем компьютер (увы, на сегодняшний день я не знаю способа перезагрузить правила udev, без перезапуска компьютера). И проверяем права на файлах в каталоге <strong>/dev</strong>. После проведенной операции все права файлов, не относящихся к сканеру, должны оставаться без изменения, и в тоже время сканер начинает работать.

Очень странно то, что пост про настройку сканера появился давно, а на ошибку в статье так никто не указал.
