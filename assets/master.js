(function($){$.fn.twitterTrackbacks=function(allOptions){var defaults={debug:0,url:"",url_querystring:0,n:10,show_n:0,inf_only:0,inf_tip:0,stay_time:5000,enter_time:200,exit_time:200,animate:"opacity",show_avatar:1,show_author:0,show_date:1,image_width:32,reply:"reply",retweet:"retweet",topsy_author_url:0,header:"<h2>Twitter trackback</h2>",info:""};allOptions=$.extend({},defaults,allOptions);return this.each(function(){var div=$(this);var count=0,ul=null,vp=-1,startI=-1,endI=-1;var op=allOptions;var effectParams=new Object;var topsyURL="";var requested=function(json){if(!json.response.list){if(op.debug){div.html('<b style="color:red">Error: '+(json.response.errors?json.response.errors.join(","):"unkown")+"</b>")}return}var rs=json.response.list;count=rs.length;if(count==0){return}topsyURL=json.response.topsy_trackback_url;ul=$('<ul class="ttw-inner"></ul>').appendTo(div.html(op.header));for(var i=0;i<count;i++){addLI(rs[i])}if(op.show_n>0){fadeIn()}};var addLI=function(x){var uname=x.author.url.replace("http://twitter.com/","");var id="";if(x.permalink_url){id=x.permalink_url.replace("http://twitter.com/"+uname+"/status/","")}else{x.author.photo_url="http://cdn2.topsy.com/asset/master.16412.82c193e596/img/twitter_user.png"}if(!x.author.influence_level){x.author.influence_level=0}var li=$("<li"+(op.show_n>0?' style="display:none"':"")+' class="ttw-inf-'+x.author.influence_level+'">'+(op.show_avatar?'<span class="ttw-author-img"><a href="'+(op.topsy_author_url?x.author.topsy_author_url:x.author.url)+'" title="'+x.author.name+(op.inf_tip?" [influence level: "+x.author.influence_level+"/10]":"")+'"><img src="'+x.author.photo_url+'" height="'+op.image_width+'" width="'+op.image_width+'" border="0"/></a></span>':"")+'<span class="ttw-body">'+(op.show_author?'<strong><a href="'+(op.topsy_author_url?x.author.topsy_author_url:x.author.url)+'">'+x.author.name+"</a></strong>":"")+'<span class="ttw-content">'+x.content+'</span><span class="ttw-meta">'+(op.show_date?'<a class="ttw-date" href="'+(x.permalink_url?x.permalink_url:topsyURL)+'">'+x.date_alpha+"</a>":"")+(op.reply&&id?' - <a class="ttw-reply" href="http://twitter.com/home?status=@'+uname+"%20&in_reply_to_status_id="+id+"&in_reply_to="+uname+'">'+op.reply+"</a>":"")+(op.retweet?' - <a class="ttw-retweet" href="http://twitter.com/home?status='+encodeURIComponent("RT @"+uname+" "+x.content)+'">'+op.retweet+"</a>":"")+(op.info?" - "+op.info:"")+"</span></span></li>").appendTo(ul);var cont=$("span.ttw-content",li);cont.html(linkify(cont.html()))};var fadeOut=function(){$("li",ul).eq(startI).fadeOut(op.exit_time,fadeIn);if(op.show_n>1){$("li",ul).slice(startI+1,endI).fadeOut(op.exit_time)}};var fadeIn=function(){vp++;if(vp*op.show_n>=count){vp=0}startI=vp*op.show_n;endI=(vp+1)*op.show_n;$("li",ul).eq(startI).animate(effectParams,op.enter_time,"linear",fadeStill);if(op.show_n>1){$("li",ul).slice(startI+1,endI).animate(effectParams,op.enter_time,"linear")}};var fadeStill=function(){ul.animate({opacity:1},op.stay_time,"linear",fadeOut)};var linkify=function(d){return d.replace(/\bhttps?\:\/\/\S+/gi,function(b){var c="";b=b.replace(/(\.*|\?*|\!*)$/,function(m,a){c=a;return""});return'<a class="ttw-link" href="'+b+'">'+((b.length>25)?b.substr(0,24)+"...":b)+"</a>"+c}).replace(/\B\@([A-Z0-9_]{1,15})/gi,'@<a class="ttw-at" href="http://twitter.com/$1">$1</a>').replace(/\B\#([A-Z0-9_]+)/gi,'<a class="ttw-hashtag" href="http://search.twitter.com/search?q=%23$1">#$1</a>')};var request=function(){var data={url:op.url,infonly:op.inf_only,perpage:op.n};$.ajax({url:"http://otter.topsy.com/trackbacks.js",data:data,success:requested,dataType:"jsonp"})};var init=function(){if(div.attr("options")){try{op=eval("("+div.attr("options")+")")}catch(e){div.html('<b style="color:red">'+e+"</b>");return}op=$.extend({},defaults,op)}effectParams[op.animate]="show";if(!op.url){op.url=location.protocol+"//"+location.host+location.pathname+(op.url_querystring?location.search:"")}request()};init()})}})(jQuery);jQuery(document).ready(function(){jQuery("div.twitter-trackbacks").twitterTrackbacks()});var Evernote=(typeof Evernote=="object"&&Evernote!=null)?Evernote:{};Evernote.logger={debug:function(a){if(typeof console=="object"&&console!=null&&typeof console.log=="function"){console.log(a)}},isDebugEnabled:function(){return false}};Evernote.detectCharacterEncoding=function(b){var c=(b)?b:document;var a=null;if(typeof c.characterSet=="string"){a=c.characterSet}else{if(typeof c.charset=="string"){a=c.charset}else{if(typeof c.inputEncoding=="string"){a=c.inputEncoding}else{if(typeof c.defaultCharset=="string"){a=c.defaultCharset}}}}return a};if(typeof Array.prototype.indexOf!="function"){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1}}Evernote.Config={insecureProto:"http://",secureProto:"https://",serviceDomain:"www.evernote.com",clipPath:"/noteit.action",getClipUrl:function(){return this.secureProto+this.serviceDomain+this.clipPath}};Evernote.inherit=function(b,c,d){if(c.constructor==Function){b.prototype=new c;b.prototype.constructor=b;b.prototype.parent=c.prototype;b.constructor.parent=c}else{b.prototype=c;b.prototype.constructor=b;b.prototype.parent=c;b.constructor.parent=c}if(d){for(var a in c.prototype.constructor){if(a!="parent"&&a!="prototype"&&c.constructor[a]!=c.prototype.constructor[a]&&typeof b.prototype.constructor[a]=="undefined"){b.prototype.constructor[a]=c.prototype.constructor[a]}}}if(typeof b.handleInheritance=="function"){b.handleInheritance.apply(b,arguments)}return b};Evernote.inherits=function(a,b){return(typeof a.prototype.parent!="undefined"&&a.prototype.parent.constructor==b)};Evernote.isHtmlElement=function(a){if(typeof HTMLElement=="function"){return(a instanceof HTMLElement)}else{if(typeof Element=="function"){return(a instanceof Element)}else{if(a!=null){return(typeof a.nodeType!="undefined"&&a.nodeType==1)}}}return false};Evernote.trimString=function(a){if(typeof a=="string"){return a.replace(/^\s+/,"").replace(/\s+$/,"")}return a};Evernote.collapseString=function(a){if(typeof a=="string"){return a.replace(/[\s\t\n]+/g," ").replace(/^\s+/,"").replace(/\s+$/,"")}return a};Evernote.cleanArray=function(c,b){if(c instanceof Array&&typeof b=="function"){var a=0;while(a<c.length){if(b(c[a])){c.splice(a,1)}else{a+=1}}}};Evernote.findChildren=function(d,e,a){var c=new Array();if(typeof d=="object"&&d!=null&&typeof d.nodeType=="number"&&d.nodeType==1){var g=d.childNodes;for(var b=0;b<g.length;b++){if(typeof e=="function"&&e(g[b])){c.push(g[b])}else{if(typeof e!="function"){c.push(g[b])}}if(a&&g[b].childElementCount>0){var f=arguments.callee(g[b],e);if(f&&f.length>0){c=Evernote.concatArrays(c,f)}}}}return c};Evernote.findParent=function(a,b){if(typeof a=="object"&&a!=null&&typeof a.nodeType=="number"){if(a.nodeName=="BODY"){return a}else{if(a.parentNode=="BODY"){return a}else{var c=a;while(c.parentNode.nodeName!="BODY"){if(typeof b=="function"&&b(c.parentNode)){return c.parentNode}else{if(typeof b!="function"){return c.parentNode}}c=c.parentNode}}}}return null};Evernote.hasElementClass=function(b,a,d){if(!this.isHtmlElement(b)){return false}try{var c=b.getAttribute("class");if(typeof c!="string"){return false}if(!d){c=c.toLowerCase();a=a.toLowerCase()}var g=c.replace(/\s+/," ").split(" ");return g.indexOf(a)>=0}catch(f){}return false};Evernote.containsElementClass=function(b,a,d){if(!this.isHtmlElement(b)){return false}try{var c=b.getAttribute("class");if(typeof c!="string"){return false}if(!d){c=c.toLowerCase();a=a.toLowerCase()}return c.indexOf(a)>=0}catch(f){}return false};Evernote.hasElementId=function(a,f,b){if(!this.isHtmlElement(a)){return false}try{var d=a.getAttribute("id");if(typeof d!="string"){return false}if(!b){d=d.toLowerCase();f=f.toLowerCase()}return d==f}catch(c){}return false};Evernote.containsElementId=function(a,f,b){if(!this.isHtmlElement(a)){return false}try{var d=a.getAttribute("id");if(typeof d!="string"){return false}if(!b){d=d.toLowerCase();f=f.toLowerCase()}return d.indexOf(f)>=0}catch(c){}return false};Evernote.isElementVisible=function(a){if(!this.isHtmlElement(a)){return false}try{var b=a.ownerDocument.defaultView.getComputedStyle(a);if(b){if(b.getPropertyValue("display")!="none"&&b.getPropertyValue("visibility")!="none"){return true}}}catch(c){}return false};Evernote.getElementClassNames=function(a){if(!this.isHtmlElement(a)){return false}return a.getAttribute("class").replace(/\s+/," ").split(" ")};Evernote.getElementSortedClassName=function(a){if(!this.isHtmlElement(a)){return null}return Evernote.getElementClassNames().sort().join(" ")};Evernote.Clip=function(b,a){this.initialize(b,a)};Evernote.Clip.constants={isIE:(navigator.appVersion.indexOf("MSIE",0)!=-1),isSafari:(navigator.appVersion.indexOf("WebKit",0)!=-1),isFirefox:(navigator.userAgent.indexOf("Firefox",0)!=-1),isIpad:(navigator.userAgent.indexOf("WebKit")>0&&navigator.userAgent.indexOf("iPad")>0),isIphone:(navigator.userAgent.indexOf("WebKit")>0&&navigator.userAgent.indexOf("iPhone")>0)};Evernote.Clip.contentMarkers=["article","post","content","story","body"];Evernote.Clip.filterMarkers=["comment","feedback","breadcrumb","share","sharing","social","sociable","tools","links","extra","related","sponsor","ads","adsense","banner","chat","shout","module"];Evernote.Clip.NOKEEP_NODE_ATTRIBUTES={style:null,"class":null,id:null,onclick:null,onsubmit:null,onmouseover:null,onmouseout:null};Evernote.Clip.NOKEEP_NODE_NAMES={style:null,script:null,input:null,select:null,option:null,textarea:null};Evernote.Clip.SELF_CLOSING_NODE_NAMES={base:null,basefont:null,frame:null,link:null,meta:null,area:null,br:null,col:null,hr:null,img:null,input:null,param:null};Evernote.Clip.NODE_NAME_TRANSLATIONS={body:"div",form:"div"};Evernote.Clip.LIST_NODE_NAMES={ul:null,ol:null};Evernote.Clip.HTMLEncode=function(e){var d="";for(var c=0;c<e.length;c++){var b=e.charCodeAt(c);var a=e[c];if(b>127){d+="&#"+b+";"}else{if(a==">"){d+="&gt;"}else{if(a=="<"){d+="&lt;"}else{if(a=="&"){d+="&amp;"}else{d+=e.charAt(c)}}}}}return d};Evernote.Clip.unicodeEntities=function(d){var b="";if(typeof d=="string"){for(var a=0;a<d.length;a++){var e=d.charCodeAt(a);if(e>127){b+="&#"+e+";"}else{b+=d.charAt(a)}}}return b};Evernote.Clip.isHtmlElement=function(a){return Evernote.isHtmlElement(a)};Evernote.Clip.trimString=function(a){return Evernote.trimString(a)};Evernote.Clip.collapseString=function(a){return Evernote.collapseString(a)};Evernote.Clip.nodeFilter=null;Evernote.Clip.prototype.title=null;Evernote.Clip.prototype.location=null;Evernote.Clip.prototype.window=null;Evernote.Clip.prototype.selectionFinder=null;Evernote.Clip.prototype.deep=true;Evernote.Clip.prototype.content=null;Evernote.Clip.prototype.range=null;Evernote.Clip.prototype._stylingStrategy=null;Evernote.Clip.prototype._verboseLog=false;Evernote.Clip.prototype.initialize=function(b,a){this.title=(typeof b.document.title=="string")?b.document.title:"";this.title=Evernote.Clip.collapseString(this.title);this.location=b.location;this.window=b;this.selectionFinder=new Evernote.SelectionFinder(b.document);this.range=null;if(a){this.setStylingStrategy(a)}};Evernote.Clip.prototype.isFullPage=function(){return !this.hasSelection()};Evernote.Clip.prototype.hasSelection=function(){if(this.selectionFinder.hasSelection()){return true}else{this.findSelection();return this.selectionFinder.hasSelection()}};Evernote.Clip.prototype.findSelection=function(){this.selectionFinder.find(this.deep)};Evernote.Clip.prototype.getSelection=function(){if(this.hasSelection()){return this.selectionFinder.selection}return null};Evernote.Clip.prototype.getRange=function(){if(this.hasSelection()){return this.selectionFinder.getRange()}return null};Evernote.Clip.prototype.getBody=function(){return this.window.document.getElementsByTagName("body")[0]};Evernote.Clip.prototype.hasBody=function(){try{var a=this.getBody();return a?true:false}catch(b){return false}};Evernote.Clip.prototype.hasContentToClip=function(){return(this.hasBody()||this.hasSelection())};Evernote.Clip.prototype.clipBody=function(){if(!this.hasBody()){Evernote.logger.debug("Document has no body...");return false}return this.clipElement(this.getBody())};Evernote.Clip.prototype.clipElement=function(a){if(a&&Evernote.Clip.isHtmlElement(a)){var b=0;var c=0;if(this._verboseLog){Evernote.logger.debug("Getting element contents: "+this);b=new Date().getTime()}this.content=this.serializeDOMNode(a,null,true);if(this._verboseLog){c=new Date().getTime();Evernote.logger.debug("Clipped element contents in "+(c-b)+" seconds")}if(typeof this.content!="string"){return false}return true}else{Evernote.logger.debug("Nothing to clip...");return false}};Evernote.Clip.prototype.clipSelection=function(){if(!this.hasSelection()){Evernote.logger.debug("No selection to clip");return false}if(Evernote.Clip.constants.isIE){this.content=this.selectionFinder.selection.htmlText;return true}var a=0;var b=0;this.range=this.getRange();if(this.range){if(this._verboseLog){var a=new Date().getTime()}this.content=this.serializeDOMNode(this.range.commonAncestorContainer);if(this._verboseLog){var b=new Date().getTime()}this.range=null;if(this._verboseLog){Evernote.logger.debug("Success...");Evernote.logger.debug("Clipped selection in "+(b-a)+" seconds")}return true}this.range=null;Evernote.logger.debug("Failed to clip selection");return false};Evernote.Clip.prototype.clipLink=function(a,b){if(typeof a!="string"){a=this.window.document.location.href}if(typeof b!="string"){b=Evernote.Clip.collapseString(this.window.document.title)}this.content="<a href='"+a+"'>"+b+"</a>";return true};Evernote.Clip.prototype.rangeIntersectsNode=function(a){if(this.range){var c=a.ownerDocument.createRange();try{c.selectNode(a)}catch(b){c.selectNodeContents(a)}return this.range.compareBoundaryPoints(Range.START_TO_END,c)==1&&this.range.compareBoundaryPoints(Range.END_TO_START,c)==-1}return false};Evernote.Clip.prototype.serializeDOMNode=function(f,g,c){if(this._verboseLog){Evernote.logger.debug("Clip.serializeDOMNode")}var k="";if(!c){if(this.range&&!this.rangeIntersectsNode(f)){if(this._verboseLog){Evernote.logger.debug("Skipping serialization of node: "+f.nodeName+" cuz it's not in range...")}return k}if(!this.keepNode(f)){if(this._verboseLog){Evernote.logger.debug("Skipping seralization of node: "+f.nodeName+" cuz it's a no-keeper")}return k}}if(this._verboseLog){Evernote.logger.debug("SerializeDOMNode: "+f.nodeName)}if(f.nodeType==3){if(this._verboseLog){Evernote.logger.debug("Serializing text node...")}if(this.range){if(this.range.startContainer==f&&this.range.startContainer==this.range.endContainer){k+=this.constructor.HTMLEncode(f.nodeValue.substring(this.range.startOffset,this.range.endOffset))}else{if(this.range.startContainer==f){k+=this.constructor.HTMLEncode(f.nodeValue.substring(this.range.startOffset))}else{if(this.range.endContainer==f){k+=this.constructor.HTMLEncode(f.nodeValue.substring(0,this.range.endOffset))}else{if(this.range.commonAncestorContainer!=f){k+=this.constructor.HTMLEncode(f.nodeValue)}}}}}else{k+=this.constructor.HTMLEncode(f.nodeValue)}}else{if(f.nodeType==1){if(this.range&&this.range.commonAncestorContainer==f&&this.range.startContainer!=this.range.commonAncestorContainer&&!this.isListNode(f)){if(this._verboseLog){Evernote.logger.debug("Ignoring range ancestor: "+f.nodeName)}}else{if(this._verboseLog){Evernote.logger.debug("Serializing node: "+f.nodeName)}var b=this.translateNodeName(f);k+="<"+b;var i=this.nodeAttributesToString(f);if(i.length>0){k+=" "+i}if(this.getStylingStrategy()){if(this._verboseLog){Evernote.logger.debug("Styling node: "+f.nodeName)}var l=this.getStylingStrategy().styleForNode(f,g);if(this._verboseLog){Evernote.logger.debug(l)}if(l instanceof Evernote.ClipStyle&&l.length>0){k+=' style="'+l.toString()+'"'}else{if(this._verboseLog){Evernote.logger.debug("Empty style...")}}}if(!f.hasChildNodes()&&this.isSelfClosingNode(f)){if(this._verboseLog){Evernote.logger.debug("Closing self-closing tag: "+f.nodeName)}k+="/>"}else{k+=">"}}if(f.nodeName.toLowerCase()!="iframe"&&f.hasChildNodes()){var e=f.childNodes;for(var h=0;h<e.length;h++){var d=e[h];if(d!=null&&d.nodeType>0&&d.nodeName!="SCRIPT"&&d.nodeName!="IFRAME"){var a=this.serializeDOMNode(d,f);if(a&&a.length>0){k+=a}}}}if(this.range&&this.range.commonAncestorContainer==f&&!this.isListNode(f)){if(this._verboseLog){Evernote.logger.debug("Ignoring range ancestor: "+f.nodeName)}}else{if(f.hasChildNodes()||!this.isSelfClosingNode(f)){k+="</"+b+">"}}}}return k};Evernote.Clip.prototype.keepNodeAttr=function(a){return(typeof a=="string"&&typeof Evernote.Clip.NOKEEP_NODE_ATTRIBUTES[a.toLowerCase()]=="undefined")};Evernote.Clip.prototype.keepNode=function(a){if(a){if(a.nodeType==3){return true}else{if(a.nodeType==1){if(a.nodeName.indexOf("#")==0||!this.isNodeVisible(a)){return false}return(typeof Evernote.Clip.NOKEEP_NODE_NAMES[a.nodeName.toLowerCase()]=="undefined"&&this.nodeFilter(a))}}}return false};Evernote.Clip.prototype.nodeFilter=function(a){if(typeof Evernote.Clip.nodeFilter=="function"){return Evernote.Clip.nodeFilter(a)}return true};Evernote.Clip.prototype.isNodeVisible=function(a){var b=this.getNodeStylePropertyValue(a,"display");return(b&&b!="none")};Evernote.Clip.prototype.isSelfClosingNode=function(a){return(a&&typeof Evernote.Clip.SELF_CLOSING_NODE_NAMES[a.nodeName.toLowerCase()]!="undefined")};Evernote.Clip.prototype.isListNode=function(a){return(a&&a.nodeType==1&&typeof Evernote.Clip.LIST_NODE_NAMES[a.nodeName.toLowerCase()]!="undefined")};Evernote.Clip.prototype.nodeAttributesToString=function(f){var g="";var d=f.attributes;if(d!=null){for(var e=0;e<d.length;e++){var b=d[e].nodeName.toLowerCase();var c=d[e].nodeValue;if(b=="href"&&c.toLowerCase().indexOf("javascript:")==0){continue}if(this.keepNodeAttr(b)&&c!=null&&c.length>0){g+=b+'="'+c+'" '}}}return g.replace(/\s+$/,"")};Evernote.Clip.prototype.translateNodeName=function(a){if(typeof Evernote.Clip.NODE_NAME_TRANSLATIONS[a.nodeName.toLowerCase()]!="undefined"){return Evernote.Clip.NODE_NAME_TRANSLATIONS[a.nodeName.toLowerCase()]}return a.nodeName};Evernote.Clip.prototype.getNodeStyle=function(c,a,b){return Evernote.ClipStyle.getNodeStyle(c,a,b)};Evernote.Clip.prototype.getNodeStylePropertyValue=function(d,a){if(d&&typeof d.nodeType=="number"&&d.nodeType==1&&typeof a=="string"){var g=d.ownerDocument;var b=null;try{b=(g.defaultView)?g.defaultView:this.window}catch(f){if(this._verboseLog){Evernote.logger.debug("Could not obtain parent window. Using default.")}b=this.window}if(typeof b.getComputedStyle=="function"){var c=b.getComputedStyle(d,null);return c.getPropertyValue(a)}else{if(typeof d.currentStyle=="object"&&d.currentStyle!=null){return d.currentStyle[a]}}}return null};Evernote.Clip.prototype.setStylingStrategy=function(a){if(typeof a=="function"&&Evernote.inherits(a,Evernote.ClipStylingStrategy)){this._stylingStrategy=new a(this.window)}else{if(a instanceof Evernote.ClipStylingStrategy){this._stylingStrategy=a}else{if(a==null){this._stylingStrategy=null}}}};Evernote.Clip.prototype.getStylingStrategy=function(){return this._stylingStrategy};Evernote.Clip.prototype.toString=function(){return"Clip["+this.location+"] "+this.title};Evernote.Clip.prototype.getLength=function(){var b=0;var c=this.toDataObject();for(var a in c){b+=(""+c[a]).length+a.length+2}b-=1;return b};Evernote.Clip.prototype.toDataObject=function(){return{content:this.content,title:this.title,url:this.location.href,fullPage:this.isFullPage()}};Evernote.ClipStyle=function(b,a){this.initialize(b,a)};Evernote.ClipStyle.stylePrefix=function(b){if(typeof b=="string"){var a=0;if((a=b.indexOf("-"))>0){return b.substring(0,a)}}return b};Evernote.ClipStyle.prototype.length=0;Evernote.ClipStyle.prototype.filter=null;Evernote.ClipStyle.prototype._verboseLog=false;Evernote.ClipStyle.prototype.initialize=function(c,a){if(a){this.setFilter(a)}try{if(CSSRuleList&&c instanceof CSSRuleList){if(c.length>0){for(var b=0;b<c.length;b++){this.addStyle(c[b].style)}}}else{if(typeof CSSStyleRule!="undefined"&&c instanceof CSSStyleRule){this.addStyle(c.style)}else{if(typeof CSSStyleDeclaration!="undefined"&&c instanceof CSSStyleDeclaration){this.addStyle(c)}else{if(typeof CSSCurrentStyleDeclaration!="undefined"&&c instanceof CSSCurrentStyleDeclaration){this.addStyle(c)}}}}}catch(d){Evernote.logger.debug("Error initializing Evernote.ClipStyle: "+d)}};Evernote.ClipStyle.prototype.addStyle=function(b){if(typeof CSSStyleDeclaration!="undefined"&&b instanceof CSSStyleDeclaration&&b.length>0){for(var a=0;a<b.length;a++){var d=b[a];if(typeof this.filter=="function"&&!this.filter(d)){continue}var c=b.getPropertyValue(d);if(typeof this[d]=="undefined"){this.length++}this[d]=c}}else{if(typeof CSSCurrentStyleDeclaration!="undefined"&&b instanceof CSSCurrentStyleDeclaration){for(var d in b){if(typeof this.filter=="function"&&!this.filter(d)){continue}this[d]=b[d]}}else{if(b instanceof Evernote.ClipStyle){for(var d in b){if(typeof this.constructor.prototype[d]=="undefined"){if(typeof this.filter=="function"&&!this.filter(d)){continue}this[d]=b[d]}}}else{if(typeof b=="object"&&b!=null){for(var a in b){if(typeof this.filter=="function"&&!this.filter(a)){continue}if(typeof b[a]!="function"&&typeof this.constructor.prototype[a]=="undefined"){if(typeof this[a]=="undefined"){this.length++}this[a]=b[a]}}}}}}};Evernote.ClipStyle.prototype.removeStyle=function(d,c){var a=this;function f(h,g){if(typeof a[h]!="undefined"&&typeof a.constructor.prototype[h]=="undefined"&&(typeof c=="function"||a[h]==g)){if(typeof c!="function"||(typeof c=="function"&&c(h,a[h],g))){if(delete (a[h])){a.length--}}}}if(typeof CSSStyleDeclaration!="undefined"&&d instanceof CSSStyleDeclaration&&d.length>0){for(var b=0;b<d.length;b++){var e=d[b];f(e,d.getPropertyValue(e))}}else{if(d instanceof Evernote.ClipStyle&&d.length>0){for(var e in d){f(e,d[e])}}}};Evernote.ClipStyle.prototype.removeStyleIgnoreValue=function(a){this.removeStyle(a,function(d,c,b){return true})};Evernote.ClipStyle.styleInArray=function(c,b){if(typeof c!="string"||!(b instanceof Array)){return false}var a=-1;var c=c.toLowerCase();var d=((a=c.indexOf("-"))>0)?c.substring(0,a).toLowerCase():c.toLowerCase();for(var a=0;a<b.length;a++){if(b[a]==c||b[a]==d){return true}}return false};Evernote.ClipStyle.prototype.deriveStyle=function(c,a,b){this.removeStyle(c,function(f,e,d){if(b instanceof Array&&Evernote.ClipStyle.styleInArray(f,b)){return false}return(typeof a[f]=="undefined"&&e==d)})};Evernote.ClipStyle.prototype.setFilter=function(a){if(typeof a=="function"){this.filter=a}else{if(a==null){this.filter=null}}};Evernote.ClipStyle.prototype.getFilter=function(){return this.filter};Evernote.ClipStyle.prototype.mergeStyle=function(c,b){if(c instanceof Evernote.ClipStyle&&c.length==0){for(var a in c){if(typeof this.constructor.prototype[a]!="undefined"){continue}if(typeof this[a]=="undefined"||b){this[a]=c[a]}}}};Evernote.ClipStyle.prototype.clone=function(){var b=new Evernote.ClipStyle();for(var a in this){if(typeof this.constructor.prototype[a]=="undefined"){b[a]=this[a]}}b.length=this.length;return b};Evernote.ClipStyle.prototype.toString=function(){var b="";if(this.length>0){for(var a in this){if(typeof this[a]!="string"||typeof this.constructor.prototype[a]!="undefined"||this[a].length==0){continue}b+=a+":"+this[a]+";"}}return b};Evernote.ClipStyle.getNodeStyle=function(f,b,c){var d=new Evernote.ClipStyle();if(f&&typeof f.nodeType=="number"&&f.nodeType==1){var h=f.ownerDocument;var a=null;try{a=(h.defaultView)?h.defaultView:window}catch(g){Evernote.logger.debug("Could not obtain default view... using default window");a=window}if(b){if(typeof a.getComputedStyle=="function"){d=new Evernote.ClipStyle(a.getComputedStyle(f,null),c)}else{if(typeof f.currentStyle=="object"&&f.currentStyle!=null){d=new Evernote.ClipStyle(f.currentStyle,c)}}}else{if(typeof a.getMatchedCSSRules=="function"){d=new Evernote.ClipStyle(a.getMatchedCSSRules(f),c)}else{try{if(typeof CSSStyleDeclaration!="undefined"&&f.style instanceof CSSStyleDeclaration&&f.style.length>0){d=new Evernote.ClipStyle(f.style,c)}}catch(g){}}}}return d};Evernote.SelectionFinder=function(a){this.initDocument=a;this.document=a};Evernote.SelectionFinder.prototype.initDocument=null;Evernote.SelectionFinder.prototype.document=null;Evernote.SelectionFinder.prototype.selection=null;Evernote.SelectionFinder.prototype.findNestedDocuments=function(g){var c=new Array();var h=null;var f=null;try{h=g.getElementsByTagName("frame")}catch(d){Evernote.logger.debug("Could not get all the frames in the document")}if(h.length>0){for(var b=0;b<h.length;b++){c.push(h[b].contentDocument)}}try{f=g.getElementsByTagName("iframe")}catch(d){Evernote.logger.debug("Could not get all iframes in document")}try{if(f.length>0){for(var b=0;b<f.length;b++){var a=f[b].contentDocument;if(a){c.push(a)}}}}catch(d){}return c};Evernote.SelectionFinder.prototype.reset=function(){this.document=this.initDocument;this.selection=null};Evernote.SelectionFinder.prototype.hasSelection=function(){if(Evernote.Clip.constants.isIE){return(this.selection&&this.selection.htmlText&&this.selection.htmlText.length>0)}var a=this.getRange();if(a&&(a.startContainer!=a.endContainer||(a.startContainer==a.endContainer&&a.startOffset!=a.endOffset))){return true}return false};Evernote.SelectionFinder.prototype.find=function(a){var b=this._findSelectionInDocument(this.document,a);this.document=b.document;this.selection=b.selection};Evernote.SelectionFinder.prototype.getRange=function(){if(!this.selection||this.selection.rangeCount==0){return null}if(typeof this.selection.getRangeAt=="function"){return this.selection.getRangeAt(0)}else{var a=this.document.createRange();a.setStart(this.selection.anchorNode,this.selection.anchorOffset);a.setEnd(this.selection.focusNode,this.selection.focusOffset);return a}return null};Evernote.SelectionFinder.prototype._findSelectionInDocument=function(j,k){var b=null;var h=false;var f=null;try{f=(j.defaultView)?j.defaultView:window}catch(g){Evernote.logger.debug("Could not retrieve default view... using default window");f=window}if(typeof f.getSelection=="function"){b=f.getSelection();if(b&&typeof b.rangeCount!="undefined"&&b.rangeCount>0){h=true}}else{if(f.selection&&typeof f.selection.createRange=="function"){b=f.selection.createRange();if(typeof f.selection.type=="Text"&&typeof b.htmlText=="string"&&b.htmlText.length>0){h=true}}else{if(j.selection&&j.selection.createRange){b=j.selection.createRange();if(typeof j.selection.type=="Text"&&typeof b.htmlText=="string"&&b.htmlText.length>0){h=true}}}}if(b&&!h&&k){Evernote.logger.debug("Empty range, trying frames");var c=this.findNestedDocuments(j);Evernote.logger.debug("# of nested docs: "+c.length);if(c.length>0){for(var d=0;d<c.length;d++){if(c[d]){Evernote.logger.debug("Trying nested doc: "+c[d]);var a=this._findSelectionInDocument(c[d],k);if(a&&a.selection&&a.selection.rangeCount>0){return a}}}}}return{document:j,selection:b}};Evernote.ClipStylingStrategy=function(a){this.initialize(a)};Evernote.ClipStylingStrategy.prototype._verboseLog=false;Evernote.ClipStylingStrategy.prototype.initialize=function(a){this.window=a};Evernote.ClipStylingStrategy.prototype.styleForNode=function(a,b){return null};Evernote.ClipStylingStrategy.prototype.getNodeStyle=function(c,a,b){return Evernote.ClipStyle.getNodeStyle(c,a,b)};Evernote.ClipTextStylingStrategy=function(a){this.initialize(a)};Evernote.inherit(Evernote.ClipTextStylingStrategy,Evernote.ClipStylingStrategy);Evernote.ClipTextStylingStrategy.FORMAT_NODE_NAMES={b:null,big:null,em:null,i:null,small:null,strong:null,sub:null,sup:null,ins:null,del:null,s:null,strike:null,u:null,code:null,kbd:null,samp:null,tt:null,"var":null,pre:null,listing:null,plaintext:null,xmp:null,abbr:null,acronym:null,address:null,bdo:null,blockquote:null,q:null,cite:null,dfn:null};Evernote.ClipTextStylingStrategy.STYLE_ATTRS={font:null,text:null,color:null};Evernote.ClipTextStylingStrategy.prototype.isFormatNode=function(a){return(a&&a.nodeType==1&&typeof Evernote.ClipTextStylingStrategy.FORMAT_NODE_NAMES[a.nodeName.toLowerCase()]!="undefined")};Evernote.ClipTextStylingStrategy.prototype.hasTextNodes=function(b){if(b&&b.nodeType==1&&b.childNodes.length>0){for(var a=0;a<b.childNodes.length;a++){if(b.childNodes[a].nodeType==3){if(this._verboseLog){Evernote.logger.debug("Node "+b.nodeName+" has text nodes")}return true}}}return false};Evernote.ClipTextStylingStrategy.prototype.styleFilter=function(b){var a=Evernote.ClipStyle.stylePrefix(b.toLowerCase());if(typeof Evernote.ClipTextStylingStrategy.STYLE_ATTRS[a]!="undefined"){return true}else{if(this._verboseLog){Evernote.logger.debug("Filter excluding: "+b)}}};Evernote.ClipTextStylingStrategy.prototype.styleForNode=function(b,c){var a=null;if(this.isFormatNode(b)||this.hasTextNodes(b)){a=this.getNodeStyle(b,true,this.styleFilter)}return a};Evernote.ClipFullStylingStrategy=function(a){this.initialize(a)};Evernote.inherit(Evernote.ClipFullStylingStrategy,Evernote.ClipStylingStrategy);Evernote.ClipFullStylingStrategy.ALWAYS_KEEP={"*":["font","text","color","margin","padding"],img:["width","height","border"],li:["list","margin","padding"],ul:["list","margin","padding"],dl:["margin","padding"],dt:["margin","padding"],h1:["margin","padding"],h2:["margin","padding"],h3:["margin","padding"],h4:["margin","padding"],h5:["margin","padding"],h6:["margin","padding"],h7:["margin","padding"],h8:["margin","padding"],h9:["margin","padding"],form:["height","width","margin","padding"]};Evernote.ClipFullStylingStrategy.prototype.styleForNode=function(e,f){var b=null;if(e&&e.nodeType==1){b=this.getNodeStyle(e,true);if(f){if(this._verboseLog){Evernote.logger.debug("Deriving style...")}var a=this.getNodeStyle(e,false);var d=this.getNodeStyle(f,true);var c=(typeof Evernote.ClipFullStylingStrategy.ALWAYS_KEEP[e.nodeName.toLowerCase()]!="undefined")?Evernote.ClipFullStylingStrategy.ALWAYS_KEEP[e.nodeName.toLowerCase()]:Evernote.ClipFullStylingStrategy.ALWAYS_KEEP["*"];b.deriveStyle(d,a,c)}}return b};Evernote.CSSSelector=function(a){this.initialize(a)};Evernote.CSSSelector.P_TAGNAME=1;Evernote.CSSSelector.P_TAGTYPE=2;Evernote.CSSSelector.P_ID=3;Evernote.CSSSelector.P_CLASS=4;Evernote.CSSSelector.P_START_ATTR=5;Evernote.CSSSelector.P_ATTR_KVSEP=6;Evernote.CSSSelector.P_END_ATTR=7;Evernote.CSSSelector.P_MODIFIER=8;Evernote.CSSSelector.fromString=function(a){return new Evernote.CSSSelector(a)};Evernote.CSSSelector.fromElement=function(c){var g=new Evernote.CSSSelector();if(typeof c.nodeName=="string"){g.tagName=c.nodeName.toLowerCase()}try{var b=c.attributes;for(var f=0;f<b.length;f++){var a=b[f];var d=a.name.toLowerCase();if(d=="id"&&a.value){g.id=a.value}else{if(d=="class"&&a.value){g.classes=a.value.replace(/\s+/," ").split(" ")}else{if(g.attributes instanceof Array){g.attributes.push({name:d,value:a.value})}else{g.attributes=[{name:d,value:a.value}]}}}}}catch(h){}return g};Evernote.CSSSelector.prototype.tagName=null;Evernote.CSSSelector.prototype.tagType=null;Evernote.CSSSelector.prototype.id=null;Evernote.CSSSelector.prototype.classes=null;Evernote.CSSSelector.prototype.attributes=null;Evernote.CSSSelector.prototype.modifier=null;Evernote.CSSSelector.prototype.initialize=function(a){if(typeof a=="string"){this.parse(a)}};Evernote.CSSSelector.prototype.reset=function(){this.tagName=null;this.tagType=null;this.id=null;this.classes=null;this.attributes=null;this.modifier=null};Evernote.CSSSelector.prototype.parse=function(e){var a=0;var d=Evernote.CSSSelector.P_TAGNAME;e=Evernote.trim(e);this.reset();while(a<e.length){var f=e.charAt(a);if(f==":"){d=(a==0)?Evernote.CSSSelector.P_TAGTYPE:Evernote.CSSSelector.P_MODIFIER}else{if(f=="#"){d=Evernote.CSSSelector.P_ID}else{if(f=="."){d=Evernote.CSSSelector.P_CLASS;if(!this.classes){this.classes=new Array()}this.classes.push("")}else{if(f=="["){d=Evernote.CSSSelector.P_START_ATTR;if(!this.attributes){this.attributes=new Array()}this.attributes.push({name:"",value:null})}else{if(f=="="&&d==Evernote.CSSSelector.P_START_ATTR){d=Evernote.CSSSelector.P_ATTR_KVSEP}else{if(f=="]"){d=Evernote.CSSSelector.P_END_ATTR}else{if(d==Evernote.CSSSelector.P_TAGTYPE){this.tagType=(this.tagType)?this.tagType+f:f}else{if(d==Evernote.CSSSelector.P_TAGNAME&&f!="*"){this.tagName=(this.tagName)?this.tagName+f.toLowerCase():f.toLowerCase()}else{if(d==Evernote.CSSSelector.P_ID){this.id=(this.id)?this.id+f:f}else{if(d==Evernote.CSSSelector.P_CLASS){this.classes[this.classes.length-1]+=f}else{if(d==Evernote.CSSSelector.P_START_ATTR){var b=this.attributes[this.attributes.length-1];b.name+=f.toLowerCase()}else{if(d==Evernote.CSSSelector.P_ATTR_KVSEP){var b=this.attributes[this.attributes.length-1];b.value=(b.value)?b.value+f:f}else{if(d==Evernote.CSSSelector.P_MODIFIER){this.modifier=(this.modifier)?this.modifier+f:f}}}}}}}}}}}}}a+=1}this.update()};Evernote.CSSSelector.prototype.update=function(){if(this.classes){Evernote.cleanArray(this.classes,function(a){return(typeof a!="string"||Evernote.trim(a).length==0)});if(this.classes.length==0){this.classes=null}else{this.classes.sort()}}if(this.attributes){Evernote.cleanArray(this.attributes,function(a){return(typeof a.name!="string"||Evernote.trim(a.name).length==0)});if(this.attributes.length==0){this.attributes=null}else{this.attributes.sort(function(d,c){return d.name>c.name})}}};Evernote.CSSSelector.prototype.getAttributeMap=function(){var a={};if(this.attributes){for(var b=0;b<this.attributes.length;b++){a[this.attributes[b].name]=this.attributes[b].value}}return a};Evernote.CSSSelector.prototype.appliesTo=function(b){var d=null;if(b instanceof Evernote.CSSSelector){d=b}else{if(typeof b=="string"){d=Evernote.CSSSelector.fromString(b)}else{if(typeof b=="object"&&b!=null&&typeof b.nodeName=="string"){d=Evernote.CSSSelector.fromElement(b)}else{d=new Evernote.CSSSelector()}}}if(this.tagName&&this.tagName!=d.tagName){return false}if(this.tagType!=d.tagType){return false}if(this.id&&(this.id!=d.id)){return false}if(this.classes&&d.classes){for(var a=0;a<this.classes.length;a++){if(d.classes.indexOf(this.classes[a])<0){return false}}}else{if(this.classes&&!d.classes){return false}}if(this.attributes&&d.attributes){var c=d.getAttributeMap();for(var a=0;a<this.attributes.length;a++){if(typeof c[this.attributes[a].name]=="undefined"){return false}}}else{if(this.attributes&&!d.attributes){return false}}if(this.modifier&&this.modifier!=d.modifier){return false}return true};Evernote.CSSSelector.prototype.toString=function(){var b="";if(this.tagType){b+=":"+this.tagType}else{if(this.tagName){b+=this.tagName}}if(this.id){b+="#"+this.id}if(this.classes&&this.classes.length>0){b+="."+this.classes.join(".")}if(this.attributes&&this.attributes.length>0){for(var a=0;a<this.attributes.length;a++){b+="["+this.attributes[a].name+"="+this.attributes[a].value+"]"}}if(this.modifier){b+=":"+this.modifier}return b};Evernote.Ajax={options:{async:true,type:"GET",data:null,success:null,error:null,context:null,complete:null,timeout:10000},getXhr:function(){if(window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)){return new window.XMLHttpRequest()}else{try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}return null},doRequest:function(b){var d=Evernote.extend(true,{},this.options,((typeof b=="object"&&b!=null)?b:{}));var h=this.getXhr();h.open(d.type,d.url,d.async);d.context=(d.context)?d.context:this;var g=function(e,i,j){if(typeof d.success=="function"){d.success.apply(d.context,[e,i,j])}};var a=function(j,i,e){if(typeof d.error=="function"){d.error.apply(d.context,[j,i,e])}};var c=(typeof d.complete=="function")?d.complete:function(e,i){if(e.status==200){g(e.responseText,i,e)}else{a(e,i,null)}};if(d.async){h.onreadystatechange=function(){if(h.readyState==4){c(h,h.statusText)}}}if(d.timeout){setTimeout(function(){if(h&&h.readyState<4){h.abort();a(h,h.statusText,"timeout")}},d.timeout)}if(!d.async){try{h.send(d.data);c(h,h.statusText)}catch(f){a(h,h.statusText,f)}}else{try{h.send(d.data)}catch(f){a(h,h.statusText,f)}}},get:function(a){var b=(typeof a=="object"&&a!=null)?a:{};b.type="GET";this.doRequest(a)}};Evernote.CLIP_OPTIONS={url:null,title:null,signature:null,header:null,footer:null,content:null,contentId:null,contentUrl:null,filter:null,suggestTags:null,suggestNotebook:null,providerName:null,code:null,latitude:null,longitude:null,styling:Evernote.ClipTextStylingStrategy};Evernote.CLIP_WINDOW_ATTRIBUTES={windowUrl:"",windowName:"evernoteClipWindow",windowOptions:"width=500,height=480,scrollbars=yes,resizable=yes"};Evernote.CLIP_FORM_ATTRIBUTES={action:Evernote.Config.getClipUrl(),method:"post",enctype:"multipart/form-data",encoding:"multipart/form-data","accept-charset":"UTF-8",id:"evernoteClipForm",target:Evernote.CLIP_WINDOW_ATTRIBUTES.windowName};Evernote.extend=function(){var c=arguments;var e=false;var a=0;if(typeof c[0]=="boolean"){e=c[0];a=1}var f=c[a];for(var d=(a+1);d<c.length;d++){if(typeof c[d]=="object"&&c[d]!=null){for(var b in c[d]){if(typeof c[d][b]=="object"&&c[d][b]!=null&&e){Evernote.extend(true,(typeof f[b]!="undefined")?f[b]:{},c[d][b])}else{f[b]=c[d][b]}}}}return f};Evernote.trim=function(a){if(typeof a=="string"){return a.replace(/^[\s\t]+/,"").replace(/[\s\t]+$/,"")}return a};Evernote.cleanString=function(a){if(typeof a=="string"){return Evernote.trim(a)}return""};Evernote.concatArrays=function(){if(arguments.length<=1){return arguments[0]}var c=new Array();for(var d=0;d<arguments.length;d++){c.push(arguments[d])}if(typeof Array.prototype.concat=="function"){return c[0].concat.apply(c[0],c.slice(1))}else{for(var d=1;d<c.length;d++){var b=c[d];for(var e=0;e<b.length;e++){c[0].push(b[e])}}return c[0]}};Evernote.createClipForm=function(g,n){var b=Evernote.extend({},Evernote.CLIP_OPTIONS,(typeof n=="object"&&n!=null)?n:{});var f=document.createElement("form");for(var o in Evernote.CLIP_FORM_ATTRIBUTES){if(typeof Evernote.CLIP_FORM_ATTRIBUTES[o]=="function"){f.setAttribute(o,Evernote.CLIP_FORM_ATTRIBUTES[o]())}else{if(Evernote.CLIP_FORM_ATTRIBUTES[o]!=null){f.setAttribute(o,Evernote.CLIP_FORM_ATTRIBUTES[o])}}}f.style.display="none";var d=(b.url)?b.url:g.location.href;if(!d){d=document.location.href}var p=(b.title)?b.title:g.title;if(!p){p=document.title}var h={title:Evernote.cleanString(p),htmlTitle:Evernote.Clip.unicodeEntities(Evernote.cleanString(p)),url:Evernote.cleanString(d),suggestTags:Evernote.cleanString(b.suggestTags),suggestNotebook:Evernote.cleanString(b.suggestNotebook),code:Evernote.cleanString(b.code),providerName:Evernote.cleanString(b.providerName)};if(Evernote.Clip.constants.isIE){var k=["title","suggestTags","suggestNotebook","providerName"];for(var j=0;j<k.length;j++){h[k[j]]=Evernote.Clip.unicodeEntities(h[k[j]])}h.charset="htmlentities"}var m=parseFloat(b.latitude);var c=parseFloat(b.longitude);if(typeof m=="number"&&!isNaN(m)&&m>=-90&&m<=90&&typeof c=="number"&&!isNaN(c)&&c>=-180&&c<=180){h.latitude=m;h.longitude=c}if(g&&g instanceof Evernote.Clip){h.content=g.content}for(var j in h){var l=document.createElement("input");l.setAttribute("type","hidden");l.setAttribute("name",j);l.value=h[j];Evernote.logger.debug(l);f.appendChild(l)}return f};Evernote.createClip=function(options){var opts=Evernote.extend({},Evernote.CLIP_OPTIONS,(typeof options=="object"&&options!=null)?options:{});if(typeof opts.styling=="string"){switch(opts.styling.toLowerCase()){case"none":opts.styling=null;break;case"text":opts.styling=Evernote.ClipTextStylingStrategy;break;case"full":opts.styling=Evernote.ClipFullStylingStrategy;break;default:opts.styling=Evernote.ClipTextStylingStrategy}}var clip=new Evernote.Clip(window,opts.styling);if(typeof opts.filter=="function"){clip.nodeFilter=opts.filter}else{if(typeof opts.filter=="string"){try{var _noteit_temp_F=undefined;eval("var _noteit_temp_F = "+opts.filter);if(typeof _noteit_temp_F=="function"){clip.nodeFilter=_noteit_temp_F}}catch(e){}}}var contentElement=null;if(typeof opts.content=="string"){clip.content=opts.content}else{if(Evernote.Clip.isHtmlElement(opts.content)){clip.clipElement(opts.content)}else{if(typeof opts.contentId=="string"&&(contentElement=window.document.getElementById(opts.contentId))){clip.clipElement(contentElement)}else{if(typeof opts.contentUrl=="string"){Evernote.Ajax.get({url:opts.contentUrl,async:false,success:function(data,status,xhr){clip.content=data},error:function(xhr,status,error){alert("Error retrieving clip content!");clip.content=""}})}else{contentElement=document.getElementsByTagName("BODY")[0];if(contentElement){clip.clipElement(contentElement)}else{clip.clipLink(opts.url,opts.title)}}}}}if(opts.signature){if(typeof opts.signature=="string"){clip.content+="<hr/>"+opts.signature}else{if(Evernote.Clip.isHtmlElement(opts.signature)){var signatureClip=new Evernote.Clip(window,opts.styling);signatureClip.clipElement(opts.signature);if(signatureClip.content){clip.content+="<hr/>"+signatureClip.content}}}}if(opts.header){if(typeof opts.header=="string"){clip.content=opts.header+clip.content}else{if(Evernote.Clip.isHtmlElement(opts.header)){var headerClip=new Evernote.Clip(window,opts.styling);headerClip.clipElement(opts.header);if(headerClip.content){clip.content=headerClip.content+clip.content}}}}if(opts.footer){if(typeof opts.header=="string"){clip.content+=opts.footer}else{if(Evernote.Clip.isHtmlElement(opts.footer)){var footerClip=new Evernote.Clip(window,opts.styling);footerClip.clipElement(opts.footer);if(footerClip.content){clip.content+=footerClip.content}}}}return clip};Evernote.doClip=function(m){var b=(typeof m=="object"&&m!=null)?m:{};if(typeof b.content=="undefined"&&typeof b.contentId=="undefined"&&typeof b.contentUrl=="undefined"){if(typeof b.filter!="function"){b.filter=function(n){if(typeof event=="object"&&event!=null&&event.target&&n==event.target){return false}for(var e=0;e<Evernote.Clip.filterMarkers.length;e++){if(Evernote.containsElementId(n,Evernote.Clip.filterMarkers[e])||Evernote.containsElementClass(n,Evernote.Clip.filterMarkers[e])){return false}}return true}}var l=[];b.content=(typeof event=="object"&&event!=null&&event.target)?Evernote.findParent(event.target,function(n){if(!Evernote.isHtmlElement(n)){return false}for(var e=0;e<Evernote.Clip.contentMarkers.length;e++){if(Evernote.isElementVisible(n)&&b.filter(n)){if(Evernote.containsElementClass(n,Evernote.Clip.contentMarkers[e])){l.push(n)}if(Evernote.containsElementId(n,Evernote.Clip.contentMarkers[e])||Evernote.hasElementClass(n,Evernote.Clip.contentMarkers[e])){b.styling="full";return true}}}return false}):document.getElementsByTagName("BODY")[0];if(!b.content&&l.length>0){b.content=l[l.length-1]}else{if(l.length>0){var g=l[l.length-1];var d=Evernote.getElementClassNames(g);var i=Evernote.findChildren(b.content,function(n){for(var e=0;e<d.length;e++){if(Evernote.hasElementClass(n,d[e])){return true}}return false},true);if(i.length>1){b.content=g}}}}var f=Evernote.createClip(b);var j=document.getElementById(Evernote.CLIP_FORM_ATTRIBUTES.id);if(j){j.parentNode.removeChild(j)}var c=Evernote.createClipForm(f,b);var h=document.getElementsByTagName("body")[0];var a=window.open(Evernote.CLIP_WINDOW_ATTRIBUTES.windowUrl,Evernote.CLIP_WINDOW_ATTRIBUTES.windowName,Evernote.CLIP_WINDOW_ATTRIBUTES.windowOptions);if(h){var j=document.getElementById(Evernote.CLIP_FORM_ATTRIBUTES.id);if(typeof j=="object"&&j!=null&&typeof j.parentNode=="object"&&typeof j.parentNode!=null){j.parentNode.removeChild(j)}h.appendChild(c);c.submit();try{a.window.focus()}catch(k){}}};(function(z){var M,R,e,L,c,k,I,A,P,y,B=0,l={},i=[],f=0,E={},x=[],O=null,n=new Image(),K=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,G=/[^\.]\.(swf)\s*$/i,o,N=1,h=0,u="",U,d,Q=false,s=z.extend(z("<div/>")[0],{prop:0}),S=z.browser.msie&&z.browser.version<7&&!window.XMLHttpRequest,w=function(){R.hide();n.onerror=n.onload=null;if(O){O.abort()}M.empty()},p=function(){if(false===l.onError(i,B,l)){R.hide();Q=false;return}l.titleShow=false;l.width="auto";l.height="auto";M.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');m()},r=function(){var Z=i[B],W,Y,ab,aa,V,X;w();l=z.extend({},z.fn.fancybox.defaults,(typeof z(Z).data("fancybox")=="undefined"?l:z(Z).data("fancybox")));X=l.onStart(i,B,l);if(X===false){Q=false;return}else{if(typeof X=="object"){l=z.extend(l,X)}}ab=l.title||(Z.nodeName?z(Z).attr("title"):Z.title)||"";if(Z.nodeName&&!l.orig){l.orig=z(Z).children("img:first").length?z(Z).children("img:first"):z(Z)}if(ab===""&&l.orig&&l.titleFromAlt){ab=l.orig.attr("alt")}W=l.href||(Z.nodeName?z(Z).attr("href"):Z.href)||null;if((/^(?:javascript)/i).test(W)||W=="#"){W=null}if(l.type){Y=l.type;if(!W){W=l.content}}else{if(l.content){Y="html"}else{if(W){if(W.match(K)){Y="image"}else{if(W.match(G)){Y="swf"}else{if(z(Z).hasClass("iframe")){Y="iframe"}else{if(W.indexOf("#")===0){Y="inline"}else{Y="ajax"}}}}}}}if(!Y){p();return}if(Y=="inline"){Z=W.substr(W.indexOf("#"));Y=z(Z).length>0?"inline":"ajax"}l.type=Y;l.href=W;l.title=ab;if(l.autoDimensions){if(l.type=="html"||l.type=="inline"||l.type=="ajax"){l.width="auto";l.height="auto"}else{l.autoDimensions=false}}if(l.modal){l.overlayShow=true;l.hideOnOverlayClick=false;l.hideOnContentClick=false;l.enableEscapeButton=false;l.showCloseButton=false}l.padding=parseInt(l.padding,10);l.margin=parseInt(l.margin,10);M.css("padding",(l.padding+l.margin));z(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){z(this).replaceWith(k.children())});switch(Y){case"html":M.html(l.content);m();break;case"inline":if(z(Z).parent().is("#fancybox-content")===true){Q=false;return}z('<div class="fancybox-inline-tmp" />').hide().insertBefore(z(Z)).bind("fancybox-cleanup",function(){z(this).replaceWith(k.children())}).bind("fancybox-cancel",function(){z(this).replaceWith(M.children())});z(Z).appendTo(M);m();break;case"image":Q=false;z.fancybox.showActivity();n=new Image();n.onerror=function(){p()};n.onload=function(){Q=true;n.onerror=n.onload=null;F()};n.src=W;break;case"swf":l.scrolling="no";aa='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+l.width+'" height="'+l.height+'"><param name="movie" value="'+W+'"></param>';V="";z.each(l.swf,function(ac,ad){aa+='<param name="'+ac+'" value="'+ad+'"></param>';V+=" "+ac+'="'+ad+'"'});aa+='<embed src="'+W+'" type="application/x-shockwave-flash" width="'+l.width+'" height="'+l.height+'"'+V+"></embed></object>";M.html(aa);m();break;case"ajax":Q=false;z.fancybox.showActivity();l.ajax.win=l.ajax.success;O=z.ajax(z.extend({},l.ajax,{url:W,data:l.ajax.data||{},error:function(ac,ae,ad){if(ac.status>0){p()}},success:function(ad,af,ac){var ae=typeof ac=="object"?ac:O;if(ae.status==200){if(typeof l.ajax.win=="function"){X=l.ajax.win(W,ad,af,ac);if(X===false){R.hide();return}else{if(typeof X=="string"||typeof X=="object"){ad=X}}}M.html(ad);m()}}}));break;case"iframe":D();break}},m=function(){var V=l.width,W=l.height;if(V.toString().indexOf("%")>-1){V=parseInt((z(window).width()-(l.margin*2))*parseFloat(V)/100,10)+"px"}else{V=V=="auto"?"auto":V+"px"}if(W.toString().indexOf("%")>-1){W=parseInt((z(window).height()-(l.margin*2))*parseFloat(W)/100,10)+"px"}else{W=W=="auto"?"auto":W+"px"}M.wrapInner('<div style="width:'+V+";height:"+W+";overflow: "+(l.scrolling=="auto"?"auto":(l.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');l.width=M.width();l.height=M.height();D()},F=function(){l.width=n.width;l.height=n.height;z("<img />").attr({id:"fancybox-img",src:n.src,alt:l.title}).appendTo(M);D()},D=function(){var W,V;R.hide();if(L.is(":visible")&&false===E.onCleanup(x,f,E)){z.event.trigger("fancybox-cancel");Q=false;return}Q=true;z(k.add(e)).unbind();z(window).unbind("resize.fb scroll.fb");z(document).unbind("keydown.fb");if(L.is(":visible")&&E.titlePosition!=="outside"){L.css("height",L.height())}x=i;f=B;E=l;if(E.overlayShow){e.css({"background-color":E.overlayColor,opacity:E.overlayOpacity,cursor:E.hideOnOverlayClick?"pointer":"auto",height:z(document).height()});if(!e.is(":visible")){if(S){z("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}e.show()}}else{e.hide()}d=b();j();if(L.is(":visible")){z(I.add(P).add(y)).hide();W=L.position(),U={top:W.top,left:W.left,width:L.width(),height:L.height()};V=(U.width==d.width&&U.height==d.height);k.fadeTo(E.changeFade,0.3,function(){var X=function(){k.html(M.contents()).fadeTo(E.changeFade,1,v)};z.event.trigger("fancybox-change");k.empty().removeAttr("filter").css({"border-width":E.padding,width:d.width-E.padding*2,height:l.autoDimensions?"auto":d.height-h-E.padding*2});if(V){X()}else{s.prop=0;z(s).animate({prop:1},{duration:E.changeSpeed,easing:E.easingChange,step:T,complete:X})}});return}L.removeAttr("style");k.css("border-width",E.padding);if(E.transitionIn=="elastic"){U=H();k.html(M.contents());L.show();if(E.opacity){d.opacity=0}s.prop=0;z(s).animate({prop:1},{duration:E.speedIn,easing:E.easingIn,step:T,complete:v});return}if(E.titlePosition=="inside"&&h>0){A.show()}k.css({width:d.width-E.padding*2,height:l.autoDimensions?"auto":d.height-h-E.padding*2}).html(M.contents());L.css(d).fadeIn(E.transitionIn=="none"?0:E.speedIn,v)},C=function(V){if(V&&V.length){if(E.titlePosition=="float"){return'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+V+'</td><td id="fancybox-title-float-right"></td></tr></table>'}return'<div id="fancybox-title-'+E.titlePosition+'">'+V+"</div>"}return false},j=function(){u=E.title||"";h=0;A.empty().removeAttr("style").removeClass();if(E.titleShow===false){A.hide();return}u=z.isFunction(E.titleFormat)?E.titleFormat(u,x,f,E):C(u);if(!u||u===""){A.hide();return}A.addClass("fancybox-title-"+E.titlePosition).html(u).appendTo("body").show();switch(E.titlePosition){case"inside":A.css({width:d.width-(E.padding*2),marginLeft:E.padding,marginRight:E.padding});h=A.outerHeight(true);A.appendTo(c);d.height+=h;break;case"over":A.css({marginLeft:E.padding,width:d.width-(E.padding*2),bottom:E.padding}).appendTo(c);break;case"float":A.css("left",parseInt((A.width()-d.width-40)/2,10)*-1).appendTo(L);break;default:A.css({width:d.width-(E.padding*2),paddingLeft:E.padding,paddingRight:E.padding}).appendTo(L);break}A.hide()},g=function(){if(E.enableEscapeButton||E.enableKeyboardNav){z(document).bind("keydown.fb",function(V){if(V.keyCode==27&&E.enableEscapeButton){V.preventDefault();z.fancybox.close()}else{if((V.keyCode==37||V.keyCode==39)&&E.enableKeyboardNav&&V.target.tagName!=="INPUT"&&V.target.tagName!=="TEXTAREA"&&V.target.tagName!=="SELECT"){V.preventDefault();z.fancybox[V.keyCode==37?"prev":"next"]()}}})}if(!E.showNavArrows){P.hide();y.hide();return}if((E.cyclic&&x.length>1)||f!==0){P.show()}if((E.cyclic&&x.length>1)||f!=(x.length-1)){y.show()}},v=function(){if(!z.support.opacity){k.get(0).style.removeAttribute("filter");L.get(0).style.removeAttribute("filter")}if(l.autoDimensions){k.css("height","auto")}L.css("height","auto");if(u&&u.length){A.show()}if(E.showCloseButton){I.show()}g();if(E.hideOnContentClick){k.bind("click",z.fancybox.close)}if(E.hideOnOverlayClick){e.bind("click",z.fancybox.close)}z(window).bind("resize.fb",z.fancybox.resize);if(E.centerOnScroll){z(window).bind("scroll.fb",z.fancybox.center)}if(E.type=="iframe"){z('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(z.browser.msie?'allowtransparency="true""':"")+' scrolling="'+l.scrolling+'" src="'+E.href+'"></iframe>').appendTo(k)}L.show();Q=false;z.fancybox.center();E.onComplete(x,f,E);J()},J=function(){var V,W;if((x.length-1)>f){V=x[f+1].href;if(typeof V!=="undefined"&&V.match(K)){W=new Image();W.src=V}}if(f>0){V=x[f-1].href;if(typeof V!=="undefined"&&V.match(K)){W=new Image();W.src=V}}},T=function(W){var V={width:parseInt(U.width+(d.width-U.width)*W,10),height:parseInt(U.height+(d.height-U.height)*W,10),top:parseInt(U.top+(d.top-U.top)*W,10),left:parseInt(U.left+(d.left-U.left)*W,10)};if(typeof d.opacity!=="undefined"){V.opacity=W<0.5?0.5:W}L.css(V);k.css({width:V.width-E.padding*2,height:V.height-(h*W)-E.padding*2})},t=function(){return[z(window).width()-(E.margin*2),z(window).height()-(E.margin*2),z(document).scrollLeft()+E.margin,z(document).scrollTop()+E.margin]},b=function(){var V=t(),Z={},X=E.autoScale,W=E.padding*2,Y;if(E.width.toString().indexOf("%")>-1){Z.width=parseInt((V[0]*parseFloat(E.width))/100,10)}else{Z.width=E.width+W}if(E.height.toString().indexOf("%")>-1){Z.height=parseInt((V[1]*parseFloat(E.height))/100,10)}else{Z.height=E.height+W}if(X&&(Z.width>V[0]||Z.height>V[1])){if(l.type=="image"||l.type=="swf"){Y=(E.width)/(E.height);if((Z.width)>V[0]){Z.width=V[0];Z.height=parseInt(((Z.width-W)/Y)+W,10)}if((Z.height)>V[1]){Z.height=V[1];Z.width=parseInt(((Z.height-W)*Y)+W,10)}}else{Z.width=Math.min(Z.width,V[0]);Z.height=Math.min(Z.height,V[1])}}Z.top=parseInt(Math.max(V[3]-20,V[3]+((V[1]-Z.height-40)*0.5)),10);Z.left=parseInt(Math.max(V[2]-20,V[2]+((V[0]-Z.width-40)*0.5)),10);return Z},q=function(V){var W=V.offset();W.top+=parseInt(V.css("paddingTop"),10)||0;W.left+=parseInt(V.css("paddingLeft"),10)||0;W.top+=parseInt(V.css("border-top-width"),10)||0;W.left+=parseInt(V.css("border-left-width"),10)||0;W.width=V.width();W.height=V.height();return W},H=function(){var Y=l.orig?z(l.orig):false,X={},W,V;if(Y&&Y.length){W=q(Y);X={width:W.width+(E.padding*2),height:W.height+(E.padding*2),top:W.top-E.padding-20,left:W.left-E.padding-20}}else{V=t();X={width:E.padding*2,height:E.padding*2,top:parseInt(V[3]+V[1]*0.5,10),left:parseInt(V[2]+V[0]*0.5,10)}}return X},a=function(){if(!R.is(":visible")){clearInterval(o);return}z("div",R).css("top",(N*-40)+"px");N=(N+1)%12};z.fn.fancybox=function(V){if(!z(this).length){return this}z(this).data("fancybox",z.extend({},V,(z.metadata?z(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(X){X.preventDefault();if(Q){return}Q=true;z(this).blur();i=[];B=0;var W=z(this).attr("rel")||"";if(!W||W==""||W==="nofollow"){i.push(this)}else{i=z("a[rel="+W+"], area[rel="+W+"]");B=i.index(this)}r();return});return this};z.fancybox=function(Y){var X;if(Q){return}Q=true;X=typeof arguments[1]!=="undefined"?arguments[1]:{};i=[];B=parseInt(X.index,10)||0;if(z.isArray(Y)){for(var W=0,V=Y.length;W<V;W++){if(typeof Y[W]=="object"){z(Y[W]).data("fancybox",z.extend({},X,Y[W]))}else{Y[W]=z({}).data("fancybox",z.extend({content:Y[W]},X))}}i=jQuery.merge(i,Y)}else{if(typeof Y=="object"){z(Y).data("fancybox",z.extend({},X,Y))}else{Y=z({}).data("fancybox",z.extend({content:Y},X))}i.push(Y)}if(B>i.length||B<0){B=0}r()};z.fancybox.showActivity=function(){clearInterval(o);R.show();o=setInterval(a,66)};z.fancybox.hideActivity=function(){R.hide()};z.fancybox.next=function(){return z.fancybox.pos(f+1)};z.fancybox.prev=function(){return z.fancybox.pos(f-1)};z.fancybox.pos=function(V){if(Q){return}V=parseInt(V);i=x;if(V>-1&&V<x.length){B=V;r()}else{if(E.cyclic&&x.length>1){B=V>=x.length?0:x.length-1;r()}}return};z.fancybox.cancel=function(){if(Q){return}Q=true;z.event.trigger("fancybox-cancel");w();l.onCancel(i,B,l);Q=false};z.fancybox.close=function(){if(Q||L.is(":hidden")){return}Q=true;if(E&&false===E.onCleanup(x,f,E)){Q=false;return}w();z(I.add(P).add(y)).hide();z(k.add(e)).unbind();z(window).unbind("resize.fb scroll.fb");z(document).unbind("keydown.fb");k.find("iframe").attr("src",S&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");if(E.titlePosition!=="inside"){A.empty()}L.stop();function V(){e.fadeOut("fast");A.empty().hide();L.hide();z.event.trigger("fancybox-cleanup");k.empty();E.onClosed(x,f,E);x=l=[];f=B=0;E=l={};Q=false}if(E.transitionOut=="elastic"){U=H();var W=L.position();d={top:W.top,left:W.left,width:L.width(),height:L.height()};if(E.opacity){d.opacity=1}A.empty().hide();s.prop=1;z(s).animate({prop:0},{duration:E.speedOut,easing:E.easingOut,step:T,complete:V})}else{L.fadeOut(E.transitionOut=="none"?0:E.speedOut,V)}};z.fancybox.resize=function(){if(e.is(":visible")){e.css("height",z(document).height())}z.fancybox.center(true)};z.fancybox.center=function(){var V,W;if(Q){return}W=arguments[0]===true?1:0;V=t();if(!W&&(L.width()>V[0]||L.height()>V[1])){return}L.stop().animate({top:parseInt(Math.max(V[3]-20,V[3]+((V[1]-k.height()-40)*0.5)-E.padding)),left:parseInt(Math.max(V[2]-20,V[2]+((V[0]-k.width()-40)*0.5)-E.padding))},typeof arguments[0]=="number"?arguments[0]:200)};z.fancybox.init=function(){if(z("#fancybox-wrap").length){return}z("body").append(M=z('<div id="fancybox-tmp"></div>'),R=z('<div id="fancybox-loading"><div></div></div>'),e=z('<div id="fancybox-overlay"></div>'),L=z('<div id="fancybox-wrap"></div>'));c=z('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(L);c.append(k=z('<div id="fancybox-content"></div>'),I=z('<a id="fancybox-close"></a>'),A=z('<div id="fancybox-title"></div>'),P=z('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),y=z('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));I.click(z.fancybox.close);R.click(z.fancybox.cancel);P.click(function(V){V.preventDefault();z.fancybox.prev()});y.click(function(V){V.preventDefault();z.fancybox.next()});if(z.fn.mousewheel){L.bind("mousewheel.fb",function(V,W){if(Q){V.preventDefault()}else{if(z(V.target).get(0).clientHeight==0||z(V.target).get(0).scrollHeight===z(V.target).get(0).clientHeight){V.preventDefault();z.fancybox[W>0?"prev":"next"]()}}})}if(!z.support.opacity){L.addClass("fancybox-ie")}if(S){R.addClass("fancybox-ie6");L.addClass("fancybox-ie6");z('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(c)}};z.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};z(document).ready(function(){z.fancybox.init()})})(jQuery);eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),0,{}));jQuery.extend(jQuery.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});(function(a){a.fn.UItoTop=function(c){var f={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"};var d=a.extend(f,c);var b="#"+d.containerID;var e="#"+d.containerHoverID;a("body").append('<a href="#" id="'+d.containerID+'">'+d.text+"</a>");a(b).hide().click(function(){a("html, body").animate({scrollTop:0},d.scrollSpeed,d.easingType);a("#"+d.containerHoverID,this).stop().animate({opacity:0},d.inDelay,d.easingType);return false}).prepend('<span id="'+d.containerHoverID+'"></span>').hover(function(){a(e,this).stop().animate({opacity:1},600,"linear")},function(){a(e,this).stop().animate({opacity:0},700,"linear")});a(window).scroll(function(){var g=a(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){a(b).css({position:"absolute",top:a(window).scrollTop()+a(window).height()-50})}if(g>d.min){a(b).fadeIn(d.inDelay)}else{a(b).fadeOut(d.Outdelay)}})}})(jQuery);$(document).ready(function(){$("a#lightbox").fancybox();$().UItoTop({easingType:"easeOutQuart"})});