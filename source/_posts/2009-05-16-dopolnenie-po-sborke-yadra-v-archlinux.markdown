--- 
layout: post
title: !binary |
  0JTQvtC/0L7Qu9C90LXQvdC40LUg0L/QviDRgdCx0L7RgNC60LUg0Y/QtNGA
  0LAg0LIgYXJjaGxpbnV4
keywords: archlinux,kernel,build
date: 2009-05-16
tags:
  - archlinux
  - kernel

---
<p>В заметке <a href="/2009/03/07/archlinux-sborka-yadra/">archlinux - сборка ядра</a> благодаря <cite class="fn">Gnomik</cite> (Антон) была выявлена небольшая неточность. О которой спешу рассказать.</p><p>Для сборки пакета archlinux используется два файла: PKGBUILD и kernel26.install</p><p>Перед сборкой пакета необходимо изменить файл PKBUILD для указания версии создаваемого пакета и версии используемого ядра. Для этого в самом начале файла меняем следующие строки:</p>

    pkgname=kernel26-my
    basekernel=2.6.29.3
    pkgver=2.6.29
    pkgrel=1

<p>Где pkgname - это указание названия пакета, последние два параметра - это указание на версию собираемого пакета, а basekernel - это указание версии ядра, которое мы собираемся собрать. И если pkgname, pkgver и pkgrel могут принимать любые значения, то basekernel обязательно должно содержать номер версии собираемого ядра.</p><p>Если это 2.6.29, то именно это значение и указываем, если 2.6.29.3, то именно его и используем. В случае тестовых ядер, указывается полная строка в виде 2.6.30-rc6.</p><p>Если basekernel установить в неверное значение, пакет собереться, но при попытке его поставить, появиться ошибка обновления информации о модулях ядра.</p>
